<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Scoreboy Lite</title>
  <style>
    body {
      font-family: Montserrat, sans-serif;
      text-align: center;
      margin: 0;
      background: #f4f4f4;
    }
    .container {
      display: none;
      padding: 20px;
    }
    .visible {
      display: block;
    }
    .hidden {
      display: none;
    }
    .page-title {
      font-size: 24px;
      margin-bottom: 20px;
    }
    button {
      font-size: 16px;
      padding: 10px 20px;
      margin: 10px;
      cursor: pointer;
    }
    select, input {
      font-size: 16px;
      padding: 5px;
      margin: 10px;
    }
  </style>
</head>
<body onload="selectPage(0)">

  <!-- Login Page -->
  <div class="container" id="loginPage">
    <div class="page-title">Login</div>
    <button onclick="selectPage(1)">Login</button>
  </div>

  <!-- Menu Page -->
  <div class="container hidden" id="menuPage">
    <div class="page-title">Menu</div>
    <button onclick="selectPage(2)">Start Match</button><br/>
    <button onclick="selectPage(4)">Team Score</button>
  </div>

  <!-- Setup Page -->
  <div class="container hidden" id="setupPage">
    <div class="page-title">Match Setup</div>

    <label for="players">No of players:</label>
    <select id="players">
      <option value="3">03</option>
      <option value="4">04</option>
      <option value="5">05</option>
    </select>

    <label for="overs">No of overs:</label>
    <select id="overs">
      <option value="1">01</option>
      <option value="2">02</option>
      <option value="3">03</option>
    </select>

    <button onclick="startMatch()">Start</button>
  </div>

  <!-- Score Page -->
  <div class="container hidden" id="scorePage">
    <div class="page-title">Score Page</div>
    <p>Scoring logic here...</p>
  </div>

  <!-- Setup Page 2 (Team Score Mode) -->
  <div class="container hidden" id="setupPage2">
    <div class="page-title">Team Score Setup</div>

    <label for="teamScorePlayers">No of players:</label>
    <select id="teamScorePlayers" onchange="generatePlayerInputs2()">
      <option value="3">03</option>
      <option value="4">04</option>
      <option value="5">05</option>
      <option value="6">06</option>
      <option value="7">07</option>
      <option value="8">08</option>
      <option value="9">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
    </select>

    <label for="teamScoreOvers">No of overs:</label>
    <select id="teamScoreOvers">
      <option value="1">01</option>
      <option value="2">02</option>
      <option value="3">03</option>
      <option value="4">04</option>
      <option value="5">05</option>
    </select>

    <div id="playerInputsContainer2" style="margin-top: 15px;"></div>

    <button onclick="startTeamScoreMatch()" style="margin-top: 10px;">Start Match</button>
    <button onclick="resetSessionConfirm()" style="background: #e53935; margin-top: 10px;">Reset Session</button>
  </div>

  <!-- Score Page 2 -->
  <div class="container hidden" id="scorePage2">
    <div class="page-title">Score Page 2</div>
    <p>Coming soonâ€¦</p>
  </div>

  <!-- Win Page -->
  <div class="container hidden" id="winPage">
    <div class="page-title">You Win!</div>
    <button onclick="resetSessionConfirm()">Reset Match</button>
  </div>

  <script>
    function selectPage(index) {
      const pages = document.querySelectorAll(".container");
      pages.forEach(p => p.classList.add("hidden"));
      const ids = ["loginPage", "menuPage", "setupPage", "scorePage", "setupPage2", "scorePage2", "winPage"];
      const page = document.getElementById(ids[index]);
      if (page) page.classList.remove("hidden");
    }

    function startMatch() {
      const players = document.getElementById("players").value;
      const overs = document.getElementById("overs").value;
      localStorage.setItem("players", players);
      localStorage.setItem("overs", overs);
      selectPage(3); // scorePage
    }

    function generatePlayerInputs2() {
      const playerCount = parseInt(document.getElementById("teamScorePlayers").value);
      const container = document.getElementById("playerInputsContainer2");
      container.innerHTML = "";
      for (let i = 1; i <= playerCount; i++) {
        const input = document.createElement("input");
        input.type = "text";
        input.value = "Player " + String(i).padStart(2, "0");
        input.id = "teamScore_player_" + i;
        input.placeholder = "Enter player name";
        input.style.display = "block";
        input.style.marginBottom = "6px";
        container.appendChild(input);
      }
    }

    function startTeamScoreMatch() {
      const players = parseInt(document.getElementById("teamScorePlayers").value);
      const overs = parseInt(document.getElementById("teamScoreOvers").value);
      localStorage.setItem("teamScore_players", players);
      localStorage.setItem("teamScore_overs", overs);
      for (let i = 1; i <= players; i++) {
        const name = document.getElementById("teamScore_player_" + i).value;
        localStorage.setItem("teamScore_player_" + i, name);
      }
      selectPage(5); // scorePage2
    }

    function resetSessionConfirm() {
      if (confirm("Reset match and session data?")) {
        localStorage.clear();
        selectPage(0);
      }
    }
  </script>

</body>
</html>
